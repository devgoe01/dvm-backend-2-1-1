{% extends "bus/base.html" %}
{% load crispy_forms_tags %}
{% block content %}
<h1>Add a New Route</h1>
<form method="POST">
  {% csrf_token %}
  {{ stop_form|crispy }}
  <div id="map" style="height: 400px;"></div>
  <button type="submit">Save Stop</button>
</form>

<!--- <script>
        var map = L.map('map').setView([0, 0], 2); // Default center

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
        }).addTo(map);

        var marker = L.marker([0, 0], { draggable: true }).addTo(map);

        marker.on('dragend', function (e) {
            var latlng = marker.getLatLng();
            document.querySelector('[name="latitude"]').value = latlng.lat;
            document.querySelector('[name="longitude"]').value = latlng.lng;
        });
</script>  --->
{% endblock %}